/*!CK:1020279348!*//*1455234806,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Cqw9P"]); }

__d('DesktopHscrollUnitEventConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={HSCROLL_ITEM_INSERTED_EVENT:'DesktopHScrollUnit/itemInserted',HSCROLL_ITEM_SHOWN_EVENT:'DesktopHScrollUnit/itemShown',HSCROLL_ITEM_HIDE_EVENT:'DesktopHScrollUnit/HideIndividualItem',HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT:'DesktopHScrollUnit/scrollItemBeforeXout',HSCROLL_ITEM_UNHIDE_EVENT:'DesktopHScrollUnit/unhideIndividualItem',HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN:'logLastAdXout',HSCROLL_PAGER_ITEM_HIDE_EVENT:'onXoutIndividualItem'};},null);
__d('BrowseClientEventLogger',['Banzai'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i='browse_client_event_session',j='21.',k={logData:function(event,l,m,n){if(!event||!l)return;n=n||{};n.event=event;n.client_time=Math.floor(Date.now());n.session_id=l;n.vertical=m;this.allData=this.allData||{};this.processedSessions=this.processedSessions||[];if(this.processedSessions.indexOf(l)!==-1)return;if(!this.allData.sessionid)this.allData.sessionid=[];this.allData.sessionid.push(n);if(event==='window_unloaded'||event==='window_transition_to_LHC'||event==='window_transition_to_home_click'||event==='window_transition_to_fb_page'){this._postBatch(this.allData.sessionid);this.processedSessions.push(l);}},logClick:function(l){l.event='click';this.maybeLogVisiblityEvent(l,true);},maybeLogClientViewEvent:function(l){l.event='client_view';this.maybeLogVisiblityEvent(l);},maybeLogVisiblityEvent:function(l,m){if(!l||!l.xt||l.xt.indexOf(j)!==0)return;var n=JSON.parse(l.xt.substring(3));if(m)n.click_type=l.click_type;var event=l.event;if(event==='vpvd'){if(!l.ft)return;n.vpvd_time=l.ft.vpvd_time_delta;}this.logData(event,n.session_id,n.vertical,n);},_postBatch:function(l){h.post(i,l,{delay:0,retry:true});}};f.exports=k;},null);
__d('Visibility',['TimeSlice','mixInEventEmitter'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=undefined,k=undefined;if(typeof document.hidden!=='undefined'){j='hidden';k='visibilitychange';}else if(typeof document.mozHidden!=='undefined'){j='mozHidden';k='mozvisibilitychange';}else if(typeof document.msHidden!=='undefined'){j='msHidden';k='msvisibilitychange';}else if(typeof document.webkitHidden!=='undefined'){j='webkitHidden';k='webkitvisibilitychange';}function l(){return j?document[j]:false;}var m={HIDDEN:'hidden',VISIBLE:'visible',isHidden:l};i(m,{visible:true,hidden:true});if(document.addEventListener&&k)document.addEventListener(k,h.guard(function n(){m.emit(l()?m.HIDDEN:m.VISIBLE);},'visibility change'));f.exports=m;},null);
__d('VisibilityTrackingHelper',['Arbiter','DesktopHscrollUnitEventConstants','getViewportDimensions','Event'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={getEventListeners:function(m){return [k.listen(document,'DOMContentLoaded',m),k.listen(window,'scroll',m),k.listen(window,'resize',m),h.subscribe(i.HSCROLL_ITEM_SHOWN_EVENT,m)];},getViewportInfo:function(){return j();}};f.exports=l;},null);
__d('VisibilityTracking',['Banzai','BrowseClientEventLogger','ErrorUtils','ScriptPath','SubscriptionsHandler','Visibility','VisibilityTrackingHelper','collectDataAttributes','getElementPosition','pageID','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s='visibility_tracking',t='[data-vistracking]',u=500,v=50,w=50,x=50,y=50,z={VISIBLE:'visible',HIDDEN:'hidden'},aa={DEFAULT:'default',REMOVED:'removed'},ba={name:z.VISIBLE,cause:aa.DEFAULT},ca={name:z.HIDDEN,cause:aa.DEFAULT},da={name:z.HIDDEN,cause:aa.REMOVED},ea=0;function fa(ga){'use strict';ga=ga||{};if(!ga.bypass_banzai_check&&!h.isEnabled(s))return;this.visibleElementInfo={};this.getDataFromConfig(ga);m.addListener(m.VISIBLE,j.guard(this.fireEvent,'VisibilityTracking:visible',this));if(!this.skipVisibilityHiddenEvents)m.addListener(m.HIDDEN,j.guard(this.clearAllVisibleElements,'VisibilityTracking:hidden',this));k.subscribe(j.guard(this.updateVisibleElements,'VisibilityTracking:scriptPath',this));h.subscribe(h.SHUTDOWN,j.guard(this.onUnload,'VisibilityTracking:banzaiShutdown',this));this.fireEventCallback=r.acrossTransitions(j.guard(this.fireEvent,'VisibilityTracking:fireEventCallback',this),this.timeout,this);this.listeners=new l();n.getEventListeners(this.fireEventCallback).forEach(function(ha){this.listeners.addSubscriptions(ha);},this);if(this.extraInit)j.applyWithGuard(this.extraInit.bind(this));}fa.prototype.getDataFromConfig=function(ga){'use strict';this.config=ga;this.root=ga.root||document.documentElement;this.selector=ga.selector||t;this.timeout=typeof ga.timeout!=='undefined'?ga.timeout:u;this.minOffsetVisibleFromBottom=typeof ga.minOffsetVisibleFromBottom!=='undefined'?ga.minOffsetVisibleFromBottom:v;this.minOffsetVisibleFromTop=typeof ga.minOffsetVisibleFromTop!=='undefined'?ga.minOffsetVisibleFromTop:w;this.minOffsetVisibleFromLeft=typeof ga.minOffsetVisibleFromLeft!=='undefined'?ga.minOffsetVisibleFromLeft:x;this.minOffsetVisibleFromRight=typeof ga.minOffsetVisibleFromRight!=='undefined'?ga.minOffsetVisibleFromRight:y;this.handleAllHiddenEvents=typeof ga.handleAllHiddenEvents!=='undefined'?ga.handleAllHiddenEvents:false;this.handleAllVisibleEvents=typeof ga.handleAllVisibleEvents!=='undefined'?ga.handleAllVisibleEvents:false;this.skipVisibilityHiddenEvents=typeof ga.skipVisibilityHiddenEvents!=='undefined'?ga.skipVisibilityHiddenEvents:false;this.cacheTrackedElements=typeof ga.cacheTrackedElements!=='undefined'?ga.cacheTrackedElements:false;};fa.prototype.getAllTrackedElements=function(){'use strict';if(!this.allTrackedElements){this.allTrackedElements={};if(this.root.querySelectorAll){var ga=this.root.querySelectorAll(this.selector);for(var ha=0;ha<ga.length;ha++){var ia=this.getElementID(ga[ha]);this.allTrackedElements[ia]=ga[ha];}}}return this.allTrackedElements;};fa.prototype.refreshAllTrackedElements=function(){'use strict';delete this.allTrackedElements;return this.getAllTrackedElements();};fa.prototype.getDataToLog=function(ga){'use strict';var ha=Object.assign(o(ga,['gt']).gt,{client_time:Date.now()/1000,time_spent_id:q,script_path:k.getScriptPath()});return ha;};fa.prototype.getElementID=function(ga){'use strict';var ha=ga.$VisibilityTracking1;if(ha)return ha;ga.$VisibilityTracking1=++ea;return ea;};fa.prototype.sendDataToLog=function(ga){'use strict';i.maybeLogVisiblityEvent(ga);h.post(s,ga);};fa.prototype.fireEvent=function(){'use strict';var ga=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var ha in ga){var ia=ga[ha],ja=n.getViewportInfo(),ka=this.isVisible(ia,ja);if(!ka&&(ha in this.visibleElementInfo||this.handleAllHiddenEvents)){this.handleEvent(ia,ca);}else if(ka&&(!(ha in this.visibleElementInfo)||this.handleAllVisibleEvents))this.handleEvent(ia,ba);}this.clearUntrackedVisibleElements();};fa.prototype.isVisible=function(ga,ha){'use strict';var ia=p(ga);return (ia.x||ia.y||ia.width||ia.height)&&ia.y+ia.height>=this.minOffsetVisibleFromTop&&ia.y<=ha.height-this.minOffsetVisibleFromBottom&&ia.x+ia.width>=this.minOffsetVisibleFromLeft&&ia.x<=ha.width-this.minOffsetVisibleFromRight;};fa.prototype.handleEvent=function(ga,event){'use strict';var ha=this.getElementID(ga),ia=this.getDataToLog(ga),ja;if(event.name===z.VISIBLE){var ka=Math.floor(Date.now()/1000);ja=q.concat(":",ka.toString(),":",this.getElementID(ga).toString());this.visibleElementInfo[ha]={visibility_id:ja,elem:ga};}else if(event.name===z.HIDDEN)if(ha in this.visibleElementInfo){ja=this.visibleElementInfo[ha].visibility_id;delete this.visibleElementInfo[ha];}this.sendDataToLog(Object.assign(ia,{event:event.name,visibility_id:ja}));};fa.prototype.clearUntrackedVisibleElements=function(){'use strict';var ga=this.getAllTrackedElements();for(var ha in this.visibleElementInfo)if(!(ha in ga)){var ia=this.visibleElementInfo[ha];if(ia.elem)this.handleEvent(ia.elem,da);}};fa.prototype.clearAllVisibleElements=function(){'use strict';var ga=this.getAllTrackedElements();for(var ha in ga)if(ha in this.visibleElementInfo)this.handleEvent(ga[ha],ca);this.clearUntrackedVisibleElements();};fa.prototype.updateVisibleElements=function(){'use strict';this.clearAllVisibleElements();this.fireEvent();};fa.prototype.refreshAndFireEvent=function(){'use strict';this.refreshAllTrackedElements();this.fireEventCallback();};fa.prototype.onUnload=function(){'use strict';this.clearAllVisibleElements();if(this.listeners){this.listeners.release();this.listeners=null;}if(this.extraCleanup)j.applyWithGuard(this.extraCleanup.bind(this));};fa.init=function(ga){'use strict';new fa(ga);};fa.EVENT=z;fa.CAUSE=aa;f.exports=fa;},null);
__d("GamesGogglesSwitch",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=false,i={enable:function(){h=true;},isEnabled:function(){return h;}};f.exports=i;},null);
__d('GamesImpressionTracker',['VisibilityTracking','throttle','Event','Banzai','Arbiter','cx','GamesGogglesSwitch'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p,q='data-gamesegoimp',r='data-gamesrankedimp',s=1000;function t(y){if(n.isEnabled())y.className=y.className+" "+"_1z5y";}function u(y){return function(){if(y){y();y=null;}};}o=babelHelpers.inherits(v,h);p=o&&o.prototype;v.prototype.handleEvent=function(y,event){'use strict';if(event.name===h.EVENT.VISIBLE){var z=y.getAttribute(r);y.removeAttribute(r);if(z){t(y);z&&k.post('games_ranked_imp',{data:z});}j.listen(y,'mouseover',u(function(){k.post('games_mouseover',{data:z});j.listen(y,'mouseout',u(function(){k.post('games_mouseout',{data:z});}));}));}};function v(){'use strict';o.apply(this,arguments);}var w=new v({selector:'[data-gamesrankedimp]',handleAllVisibleEvents:true,skipVisibilityHiddenEvents:true,cacheTrackedElements:true}),x=i.acrossTransitions(function(){return w.fireEventCallback();},s,null);w.listeners.addSubscriptions(j.listen(document,'mousemove',x),j.listen(document,'click',x),l.subscribe('games_unit_loaded',function(){return w.refreshAllTrackedElements();}));},null);
__d('legacy:async-signal',['AsyncSignal'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();b.AsyncSignal=c('AsyncSignal');},3);
__d('EgoUnitSlideInsert',['Animation','CSS','DataStore','DOM','Ease','Event','Parent','TidyArbiterMixin','csx','cx','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s='sliding',t="EgoSlider/End",u=babelHelpers._extends({isSliding:function(v){return j.get(v,s);},runAfterSlide:function(v,w){var x=r(u.subscribe(t,function(y,z){if(z===v){x&&x.unsubscribe();w();}}));},registerSlide:function(v,w){m.listen(v,'click',function(x){var y=n.bySelector(x.getTarget(),"._5cl_");if(!y)return;var z=n.byClass(v,'ego_unit'),aa=0,ba=n.byClass(z,'ego_unit_container'),ca=k.scry(ba,'.ego_unit')[0];if(ca===z)if(z.nextSibling){z.nextSibling.style.paddingTop='0px';z.nextSibling.style.borderTop='0px';}i.addClass(z,"_5cl-");j.set(z,s,true);new h(z).to('height',0).to('padding-top',aa).to('padding-bottom',0).to('margin',0).from('opacity',1).to('opacity',0).ease(l.circOut).duration(300).checkpoint(1,function(){k.appendContent(ba,z);k.prependContent(z,w);j.remove(z,s);}).to('height',12).to('opacity',1).to('margin-bottom',10).duration(0).checkpoint(2,function(){u.inform(t,z);}).go();});}},o);f.exports=u;},null);
__d('NetEgo',['Animation','Arbiter','csx','CSS','DOM','EgoUnitSlideInsert','PageLikeConstants','Parent','URI','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r={setup:function(s){i.subscribe([n.LIKED,'FriendRequest/sending'],function(t,u){if(s==u.profile_id&&u.origin=='hovercard'||s==u.uid){var v=q(document.body,'.ego_unit_container');if(v){var w=l.scry(v,'.ego_unit'),x=w.length;for(var y=0;y<x;y++){var z=w[y].getAttribute('data-ego-fbid');if(z==s){var aa=l.scry(w[y],'.ego_action a')[0];if(aa)aa.click();break;}}}}});},updateXids:function(s,t){if(s.length==0&&t.length==0)return;var u=function(ea){return function(fa){var ga=fa.getAttribute(ea);if(!ga)return false;var ha=new p(ga).getQueryData();return !!ha.xids;};},v=l.scry(document.body,'.ego_section a');v=v.filter(u('ajaxify'));if(v.length==0)return;var w=new p(v[0].getAttribute('ajaxify')),x=w.getQueryData();if(!x.xids)return;var y=null;try{y=JSON.parse(x.xids);}catch(z){return;}for(var aa=0;aa<t.length;++aa)y[t[aa]]=1;var ba=JSON.stringify(y),ca=function(ea,fa){w=new p(ea.getAttribute(fa));x=w.getQueryData();x.xids=ba;w.setQueryData(x);ea.setAttribute(fa,w.toString());};for(aa=0;aa<v.length;++aa)ca(v[aa],'ajaxify');var da=l.scry(document.body,'.ego_unit form');da=da.filter(u('action'));for(aa=0;aa<da.length;++aa)ca(da[aa],'action');},replaceUnit:function(s,t,u,v){r.replaceUnitCheckParent(s,t,u,v,'');},addUnitsWithSeeMore:function(s,t,u){if(!u)k.hide(s);var v=s.previousSibling;v&&t&&l.appendContent(v,t);},replaceUnitCheckParent:function(s,t,u,v,w){var x=o.byClass(s,'ego_unit_container');if(x&&m.isSliding(s)){var y=l.appendContent(x,t);y.forEach(k.hide);m.runAfterSlide(s,r._replaceUnitElement.bind(null,s,y,w));}else r._replaceUnit(s,t,u,v,w);},_replaceUnit:function(s,t,u,v,w){var x=l.insertAfter(s,t);x.forEach(k.hide);if(v!==undefined&&v!==null){setTimeout(function(){r._replaceUnitFadeout(s,x,u,w);},v);}else r._replaceUnitFadeout(s,x,u,w);},_replaceUnitFadeout:function(s,t,u,v){if(u){new h(s).from('opacity',1).to('opacity',0).duration(u).checkpoint(1,function(){r._replaceUnitElement(s,t,v);}).go();}else r._replaceUnitElement(s,t,v);},_replaceUnitElement:function(s,t,u){var v=k.hasClass(s,'ego_unit')?s.parentNode:null;if(v&&v.tagName==='LI')v=l.scry(s.parentNode,'^ul')[0];l.remove(s);if(t.length)t.forEach(k.show);i.inform('netego_replacedUnit',{serializedData:u,numUnitsRemained:v.childNodes.length});r.clearHeader();},clearHeader:function(){var s=l.scry(document.body,'.ego_column'),t=[];for(var u=0;u<s.length;++u)t=t.concat(l.scry(s[u],'.uiHeader'));for(u=0;u<t.length;++u){var v=t[u].nextSibling,w=l.find(v,"._2xq");if(!w)w=v;if(!w||w.childNodes.length===0){l.remove(t[u]);}else if(w.childNodes.length===1){var x=w.childNodes[0];if(k.hasClass(x,'ego_appended_units')&&x.childNodes.length===0)l.remove(t[u]);}}}};f.exports=r;},null);